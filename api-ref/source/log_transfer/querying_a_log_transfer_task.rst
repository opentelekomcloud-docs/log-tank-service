:original_name: lts_api_0032.html

.. _lts_api_0032:

Querying a Log Transfer Task
============================

Function
--------

This API is used to query an OBS transfer task.

URI
---

GET /v2/{project_id}/transfers

.. table:: **Table 1** URI parameter

   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                |
   +=================+=================+=================+============================================================================================================================================================+
   | project_id      | Yes             | String          | Project ID. For details about how to obtain a project ID, see :ref:`Obtaining the Account ID, Project ID, Log Group ID, and Log Stream ID <lts_api_0006>`. |
   |                 |                 |                 |                                                                                                                                                            |
   |                 |                 |                 | Minimum length: 32 characters                                                                                                                              |
   |                 |                 |                 |                                                                                                                                                            |
   |                 |                 |                 | Maximum length: 32 characters                                                                                                                              |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query parameters

   +-------------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter         | Mandatory       | Type            | Description                                                                                                                         |
   +===================+=================+=================+=====================================================================================================================================+
   | log_transfer_type | No              | String          | Log transfer type. You can transfer logs to OBS, DIS, and DMS.                                                                      |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Enumerated values:                                                                                                                  |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | -  **OBS**                                                                                                                          |
   |                   |                 |                 | -  **DIS**                                                                                                                          |
   |                   |                 |                 | -  **DMS**                                                                                                                          |
   +-------------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------+
   | log_group_name    | No              | String          | Log group name.                                                                                                                     |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Minimum length: 1 character                                                                                                         |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Maximum length: 64 characters                                                                                                       |
   +-------------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------+
   | log_stream_name   | No              | String          | Log stream name.                                                                                                                    |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Minimum length: 1 character                                                                                                         |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Maximum length: 64 characters                                                                                                       |
   +-------------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------+
   | offset            | No              | Integer         | Query cursor. Set the value to 0 in the first query. In subsequent queries, obtain the value from the response to the last request. |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Minimum value: **0**                                                                                                                |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Maximum value: **1024**                                                                                                             |
   +-------------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------+
   | limit             | No              | Integer         | Number of records on each page.                                                                                                     |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Minimum value: **0**                                                                                                                |
   |                   |                 |                 |                                                                                                                                     |
   |                   |                 |                 | Maximum value: **100**                                                                                                              |
   +-------------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+-----------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                               |
   +=================+=================+=================+===========================================================+
   | X-Auth-Token    | Yes             | String          | User token obtained from IAM.                             |
   |                 |                 |                 |                                                           |
   |                 |                 |                 | Minimum length: 1000 characters                           |
   |                 |                 |                 |                                                           |
   |                 |                 |                 | Maximum length: 2000 characters                           |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------+
   | Content-Type    | Yes             | String          | Set this parameter to **application/json;charset=UTF-8**. |
   |                 |                 |                 |                                                           |
   |                 |                 |                 | Minimum length: **30** characters                         |
   |                 |                 |                 |                                                           |
   |                 |                 |                 | Maximum length: **30** characters                         |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +---------------+-----------------------------------------------------------------------------------------------+--------------------------------+
   | Parameter     | Type                                                                                          | Description                    |
   +===============+===============================================================================================+================================+
   | log_transfers | Array of :ref:`Table 5 <lts_api_0032__en-us_topic_0000001217438349_table58872528332>` objects | Log transfer task information. |
   +---------------+-----------------------------------------------------------------------------------------------+--------------------------------+

.. _lts_api_0032__en-us_topic_0000001217438349_table58872528332:

.. table:: **Table 5** CreateTransferResponseBody

   +-----------------------+-------------------------------------------------------------------------------------------------+-------------------------------+
   | Parameter             | Type                                                                                            | Description                   |
   +=======================+=================================================================================================+===============================+
   | log_group_id          | String                                                                                          | Log group ID.                 |
   |                       |                                                                                                 |                               |
   |                       |                                                                                                 | Minimum length: 36 characters |
   |                       |                                                                                                 |                               |
   |                       |                                                                                                 | Maximum length: 36 characters |
   +-----------------------+-------------------------------------------------------------------------------------------------+-------------------------------+
   | log_group_name        | String                                                                                          | Log group name.               |
   |                       |                                                                                                 |                               |
   |                       |                                                                                                 | Minimum length: 1 character   |
   |                       |                                                                                                 |                               |
   |                       |                                                                                                 | Maximum length: 64 characters |
   +-----------------------+-------------------------------------------------------------------------------------------------+-------------------------------+
   | log_streams           | Array of :ref:`Table 6 <lts_api_0032__en-us_topic_0000001217438349_table9958252153320>` objects | Log stream list.              |
   +-----------------------+-------------------------------------------------------------------------------------------------+-------------------------------+
   | log_transfer_id       | String                                                                                          | Log transfer task ID.         |
   |                       |                                                                                                 |                               |
   |                       |                                                                                                 | Minimum length: 36 characters |
   |                       |                                                                                                 |                               |
   |                       |                                                                                                 | Maximum length: 36 characters |
   +-----------------------+-------------------------------------------------------------------------------------------------+-------------------------------+
   | log_transfer_info     | :ref:`Table 7 <lts_api_0032__en-us_topic_0000001217438349_table185205316336>` object            | Log transfer information.     |
   +-----------------------+-------------------------------------------------------------------------------------------------+-------------------------------+

.. _lts_api_0032__en-us_topic_0000001217438349_table9958252153320:

.. table:: **Table 6** log_streams

   +-----------------------+-----------------------+-------------------------------+
   | Parameter             | Type                  | Description                   |
   +=======================+=======================+===============================+
   | log_stream_id         | String                | Log stream ID.                |
   |                       |                       |                               |
   |                       |                       | Minimum length: 36 characters |
   |                       |                       |                               |
   |                       |                       | Maximum length: 36 characters |
   +-----------------------+-----------------------+-------------------------------+
   | log_stream_name       | String                | Log stream name.              |
   |                       |                       |                               |
   |                       |                       | Minimum length: 1 character   |
   |                       |                       |                               |
   |                       |                       | Maximum length: 64 characters |
   +-----------------------+-----------------------+-------------------------------+

.. _lts_api_0032__en-us_topic_0000001217438349_table185205316336:

.. table:: **Table 7** log_transfer_info

   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                   | Description                                                                                                                                                                                                                                                   |
   +=======================+========================================================================================+===============================================================================================================================================================================================================================================================+
   | log_agency_transfer   | :ref:`Table 8 <lts_api_0032__en-us_topic_0000001217438349_table19196953193317>` object | Information about delegated log transfer. This parameter is returned for a delegated log transfer task.                                                                                                                                                       |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_create_time       | Integer                                                                                | Time when the log transfer task was created.                                                                                                                                                                                                                  |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | Minimum value: **0**                                                                                                                                                                                                                                          |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | Maximum value: **9999999999999**                                                                                                                                                                                                                              |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_storage_format    | String                                                                                 | Log transfer format. The value can be **RAW** or **JSON**. **RAW** indicates raw log format, whereas **JSON** indicates JSON format. **JSON** and **RAW** are supported for OBS and DIS transfer tasks, but only **RAW** is supported for DMS transfer tasks. |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | Enumerated values:                                                                                                                                                                                                                                            |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | -  **JSON**                                                                                                                                                                                                                                                   |
   |                       |                                                                                        | -  **RAW**                                                                                                                                                                                                                                                    |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_transfer_detail   | Object                                                                                 | Log transfer details.                                                                                                                                                                                                                                         |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_transfer_mode     | String                                                                                 | Log transfer mode. **cycle** indicates periodical transfer, whereas **realTime** indicates real-time transfer. **cycle** is available to OBS transfer tasks and **realTime** is available to DIS and DMS transfer tasks.                                      |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | Enumerated values:                                                                                                                                                                                                                                            |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | -  **cycle**                                                                                                                                                                                                                                                  |
   |                       |                                                                                        | -  **realTime**                                                                                                                                                                                                                                               |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_transfer_status   | String                                                                                 | Log transfer status. **ENABLE** indicates that log transfer is enabled, **DISABLE** indicates that log transfer is disabled, and **EXCEPTION** indicates that log transfer is abnormal.                                                                       |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | Enumerated values:                                                                                                                                                                                                                                            |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | -  **ENABLE**                                                                                                                                                                                                                                                 |
   |                       |                                                                                        | -  **DISABLE**                                                                                                                                                                                                                                                |
   |                       |                                                                                        | -  **EXCEPTION**                                                                                                                                                                                                                                              |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | log_transfer_type     | String                                                                                 | Log transfer type. You can transfer logs to OBS, DIS, and DMS.                                                                                                                                                                                                |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | Enumerated values:                                                                                                                                                                                                                                            |
   |                       |                                                                                        |                                                                                                                                                                                                                                                               |
   |                       |                                                                                        | -  **OBS**                                                                                                                                                                                                                                                    |
   |                       |                                                                                        | -  **DIS**                                                                                                                                                                                                                                                    |
   |                       |                                                                                        | -  **DMS**                                                                                                                                                                                                                                                    |
   +-----------------------+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _lts_api_0032__en-us_topic_0000001217438349_table19196953193317:

.. table:: **Table 8** log_agency_transfer

   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                       |
   +=======================+=======================+===================================================================================================+
   | agency_domain_id      | String                | Delegator account ID.                                                                             |
   |                       |                       |                                                                                                   |
   |                       |                       | Minimum length: 1 character                                                                       |
   |                       |                       |                                                                                                   |
   |                       |                       | Maximum length: 128 characters                                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+
   | agency_domain_name    | String                | Delegator account name.                                                                           |
   |                       |                       |                                                                                                   |
   |                       |                       | Minimum length: 1 character                                                                       |
   |                       |                       |                                                                                                   |
   |                       |                       | Maximum length: 128 characters                                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+
   | agency_name           | String                | Name of the agency created by the delegator.                                                      |
   |                       |                       |                                                                                                   |
   |                       |                       | Minimum length: 1 character                                                                       |
   |                       |                       |                                                                                                   |
   |                       |                       | Maximum length: 128 characters                                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+
   | agency_project_id     | String                | Project ID of the delegator.                                                                      |
   |                       |                       |                                                                                                   |
   |                       |                       | Minimum length: 32 characters                                                                     |
   |                       |                       |                                                                                                   |
   |                       |                       | Maximum length: 32 characters                                                                     |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+
   | be_agency_domain_id   | String                | Account ID of the delegated party (ID of the account that created the log transfer task).         |
   |                       |                       |                                                                                                   |
   |                       |                       | Minimum length: 1 character                                                                       |
   |                       |                       |                                                                                                   |
   |                       |                       | Maximum length: 128 characters                                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+
   | be_agency_project_id  | String                | Project ID of the delegated party (project ID of the account that created the log transfer task). |
   |                       |                       |                                                                                                   |
   |                       |                       | Minimum length: 32 characters                                                                     |
   |                       |                       |                                                                                                   |
   |                       |                       | Maximum length: 32 characters                                                                     |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------+

**Status code: 400**

.. table:: **Table 9** Response body parameters

   +-----------------------+-----------------------+------------------------------+
   | Parameter             | Type                  | Description                  |
   +=======================+=======================+==============================+
   | error_code            | String                | Error code.                  |
   |                       |                       |                              |
   |                       |                       | Minimum length: 8 characters |
   |                       |                       |                              |
   |                       |                       | Maximum length: 8 characters |
   +-----------------------+-----------------------+------------------------------+
   | error_msg             | String                | Error message.               |
   |                       |                       |                              |
   |                       |                       | Enumerated value:            |
   |                       |                       |                              |
   |                       |                       | -  **Invalid projectId**     |
   +-----------------------+-----------------------+------------------------------+

.. table:: **Table 10** log_transfer_detail

   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter            | Mandatory       | Type            | Description                                                                                                                                                                                                                                                                                                                                    |
   +======================+=================+=================+================================================================================================================================================================================================================================================================================================================================================+
   | obs_period           | Yes             | Integer         | Length of the transfer interval for an OBS transfer task. This parameter is required to update an OBS transfer task. The log transfer interval is specified by the combination of the values of **obs_period** and **obs_period_unit**, and must be set to one of the following: 2 min, 5 min, 30 min, 1 hour, 3 hours, 6 hours, and 12 hours. |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Enumerated values:                                                                                                                                                                                                                                                                                                                             |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | -  **1**                                                                                                                                                                                                                                                                                                                                       |
   |                      |                 |                 | -  **2**                                                                                                                                                                                                                                                                                                                                       |
   |                      |                 |                 | -  **3**                                                                                                                                                                                                                                                                                                                                       |
   |                      |                 |                 | -  **5**                                                                                                                                                                                                                                                                                                                                       |
   |                      |                 |                 | -  **6**                                                                                                                                                                                                                                                                                                                                       |
   |                      |                 |                 | -  **12**                                                                                                                                                                                                                                                                                                                                      |
   |                      |                 |                 | -  **30**                                                                                                                                                                                                                                                                                                                                      |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_period_unit      | Yes             | String          | Unit of the transfer interval for an OBS transfer task. This parameter is required to update an OBS transfer task. The log transfer interval is specified by the combination of the values of **obs_period** and **obs_period_unit**, and must be set to one of the following: 2 min, 5 min, 30 min, 1 hour, 3 hours, 6 hours, and 12 hours.   |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Enumerated values:                                                                                                                                                                                                                                                                                                                             |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | -  **min**                                                                                                                                                                                                                                                                                                                                     |
   |                      |                 |                 | -  **hour**                                                                                                                                                                                                                                                                                                                                    |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_bucket_name      | Yes             | String          | OBS bucket name. This parameter is required to update an OBS transfer task.                                                                                                                                                                                                                                                                    |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Minimum length: 3 characters                                                                                                                                                                                                                                                                                                                   |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Maximum length: 63 characters                                                                                                                                                                                                                                                                                                                  |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_encrypted_id     | No              | String          | KMS key ID for an OBS transfer task. This parameter is required if encryption is enabled for the target OBS bucket.                                                                                                                                                                                                                            |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Minimum length: 36 characters                                                                                                                                                                                                                                                                                                                  |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Maximum length: 36 characters                                                                                                                                                                                                                                                                                                                  |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_dir_pre_fix_name | No              | String          | Custom transfer path of an OBS transfer task. This parameter is optional.                                                                                                                                                                                                                                                                      |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | The value must match the regular expression:                                                                                                                                                                                                                                                                                                   |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | ^(/)?([a-zA-Z0-9\\._-]+)(/[a-zA-Z0-9\\._-]+)*(/)?$                                                                                                                                                                                                                                                                                             |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Minimum length: 1 character                                                                                                                                                                                                                                                                                                                    |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Maximum length: 64 characters                                                                                                                                                                                                                                                                                                                  |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_prefix_name      | No              | String          | Transfer file prefix of an OBS transfer task. This parameter is optional.                                                                                                                                                                                                                                                                      |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | The value must match the regular expression:                                                                                                                                                                                                                                                                                                   |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | ^[a-zA-Z0-9\\._-]*$                                                                                                                                                                                                                                                                                                                            |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Minimum length: 1 character                                                                                                                                                                                                                                                                                                                    |
   |                      |                 |                 |                                                                                                                                                                                                                                                                                                                                                |
   |                      |                 |                 | Maximum length: 64 characters                                                                                                                                                                                                                                                                                                                  |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_transfer_path    | No              | string          | OBS bucket path, which is the log transfer destination.                                                                                                                                                                                                                                                                                        |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_eps_id           | No              | string          | Enterprise project ID of an OBS transfer task.                                                                                                                                                                                                                                                                                                 |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | obs_encrypted_enable | No              | boolean         | Whether OBS bucket encryption is enabled.                                                                                                                                                                                                                                                                                                      |
   +----------------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Status code: 500**

.. table:: **Table 11** Response body parameters

   +-----------------------+-----------------------+------------------------------+
   | Parameter             | Type                  | Description                  |
   +=======================+=======================+==============================+
   | error_code            | String                | Error code.                  |
   |                       |                       |                              |
   |                       |                       | Minimum length: 8 characters |
   |                       |                       |                              |
   |                       |                       | Maximum length: 8 characters |
   +-----------------------+-----------------------+------------------------------+
   | error_msg             | String                | Error message.               |
   +-----------------------+-----------------------+------------------------------+

Example Request
---------------

If no parameter is specified, all log transfer tasks are returned. If **log_transfer_type**, **log_group_name**, and **log_stream_name** are specified, the corresponding log transfer task is returned.

.. code-block:: text

   GET https://{endpoint}/v2/{project_id}/transfers

   /v2/{project_id}/transfers
   /v2/{project_id}/transfers?log_group_name=lts-group-txxx
   /v2/{project_id}/transfers?log_transfer_type=OBS
   /v2/{project_id}/transfers?log_stream_name=lts-topic-testRexxx
   /v2/{project_id}/transfers?log_group_name=lts-group-txxx&log_transfer_type=OBS
   /v2/{project_id}/transfers?log_group_name=lts-group-txxx&log_stream_name=lts-topic-testRxxx
   /v2/{project_id}/transfers?log_transfer_type=OBS&log_stream_name=lts-topic-testRxxx
   /v2/{project_id}/transfers?log_group_name=lts-group-txxx&log_transfer_type=OBS&log_stream_name=lts-topic-testRexxx

Example Response
----------------

**Status code: 200**

The query is successful.

The following parameters are returned for an OBS transfer task:

.. code-block::

   {
       "log_transfers" : [{
               "log_group_id" : "9a7e2183-2d6d-4732-9a9b-e897fd4e49e0",
               "log_group_name" : "lts-group-kafka",
               "log_streams" : [{
                       "log_stream_id" : "839dac89-35af-4db2-ab4a-a7dda0d0d3f8",
                       "log_stream_name" : "lts-topic-kafka"
                   }
               ],
               "log_transfer_id" : "ddced522-233a-4181-a5fc-7b458c819afc",
               "log_transfer_info" : {
                   "log_create_time" : 1634802241847,
                   "log_storage_format" : "JSON",
                   "log_agency_transfer" : {
                       "agency_domain_id" : "1d26cc8c86a840e28a4f8d0d078xxxxx",
                       "agency_domain_name" : "paas_apm_z004xxxxx_xx",
                       "agency_name" : "test20210325",
                       "agency_project_id" : "2a473356cca5487f8373be891bfxxxxx",
                       "be_agency_domain_id" : "1d26cc8c86a840e28a4f8d0d078xxxxx",
                       "be_agency_project_id" : "2a473356cca5487f8373be891bfxxxxx"
                   },
                   "log_transfer_detail" : {
                   "obs_period":2,
                   "obs_prefix_name":"",
                   "obs_period_unit":"min",
                   "obs_transfer_path":"/0002/LogTanks/xxx/",
                   "obs_bucket_name":"0002",
                   "obs_encrypted_enable":false,
                   "obs_dir_pre_fix_name":""
                   },
                   "log_transfer_mode":"cycle",
                   "log_transfer_status":"ENABLE",
                   "log_transfer_type":"OBS"
               }
           }
       ]
   }

**Status code: 400**

Invalid request. Modify the request based on the description in **error_msg** before a retry.

.. code-block::

   {
     "error_code" : "LTS.0205",
     "error_msg" : "The log stream name has been existed"
   }

**Status code: 500**

The server has received the request but encountered an internal error.

.. code-block::

   {
     "error_code" : "LTS.0010",
     "error_msg" : "The system encountered an internal error"
   }

Status Codes
------------

+-------------+-----------------------------------------------------------------------------------------------+
| Status Code | Description                                                                                   |
+=============+===============================================================================================+
| 200         | The query is successful.                                                                      |
+-------------+-----------------------------------------------------------------------------------------------+
| 400         | Invalid request. Modify the request based on the description in **error_msg** before a retry. |
+-------------+-----------------------------------------------------------------------------------------------+
| 500         | The server has received the request but encountered an internal error.                        |
+-------------+-----------------------------------------------------------------------------------------------+

Error Codes
-----------

For details, see :ref:`Error Codes <lts_02_0021>`.
