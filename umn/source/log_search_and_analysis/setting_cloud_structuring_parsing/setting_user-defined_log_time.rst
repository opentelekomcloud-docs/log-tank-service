:original_name: lts_0826.html

.. _lts_0826:

Setting User-defined Log Time
=============================

When configuring log ingestion, you can enable **User-defined log time** to set a time field in the logs as the ingestion configuration time.

Enabling User-defined Log Time
------------------------------

#. Log in to the management console and choose **Management & Deployment** > **Log Tank Service**. The **Log Management** page is displayed by default.
#. Expand the target log group and click the name of the target stream.
#. On the log stream details page, click |image1| in the upper right corner. On the page displayed, click the **Cloud Structuring Parsing** tab. For details, see :ref:`Setting Cloud Structuring Parsing <lts_0823>`.
#. After cloud structuring parsing is configured, enable **User-defined log time** and specify the following parameters.

   .. note::

      A time deviation may occur around the time displayed on the log search page when you enable or disable **User-defined log time**. Do not frequently enable or disable it.

   .. table:: **Table 1** Parameter configuration

      +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter             | Description                                                                                                                                           | Example               |
      +=======================+=======================================================================================================================================================+=======================+
      | Key                   | Name of an extracted field. You can select an extracted field from the drop-down list. The field is of the **string** or **long** type.               | test                  |
      +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Value                 | Value of an extracted field. After a **Key** is selected, the **Value** is automatically filled in.                                                   | 2022-07-19 12:12:00   |
      |                       |                                                                                                                                                       |                       |
      |                       | .. note::                                                                                                                                             |                       |
      |                       |                                                                                                                                                       |                       |
      |                       |    The value of the field must be within 24 hours earlier or later than the current time.                                                             |                       |
      +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Format                | For details, see :ref:`Common Log Time Formats <lts_0826__en-us_topic_0000001532867577_section16704202820210>`.                                       | yyyy-MM-dd HH:mm:ss   |
      +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Operation             | Click **Verify**. If the message **The time format is successfully matched with the time field value.** is displayed, the verification is successful. | ``-``                 |
      +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

.. _lts_0826__en-us_topic_0000001532867577_section16704202820210:

Common Log Time Formats
-----------------------

:ref:`Table 2 <lts_0826__en-us_topic_0000001532867577_table19279450336>` lists common log time formats.

.. note::

   By default, log timestamps in LTS are accurate to seconds. You do not need to configure information such as milliseconds and microseconds.

.. _lts_0826__en-us_topic_0000001532867577_table19279450336:

.. table:: **Table 2** Time formats

   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | Format                   | Description                                                                                                                      | Example                  |
   +==========================+==================================================================================================================================+==========================+
   | EEE                      | Abbreviation for Week.                                                                                                           | Fri                      |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | EEEE                     | Full name for Week.                                                                                                              | Friday                   |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | MMM                      | Abbreviation for Month.                                                                                                          | Jan                      |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | MMMM                     | Full name for Month.                                                                                                             | January                  |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | dd                       | Number of the day in a month, ranging from 01 to 31 (decimal).                                                                   | 07, 31                   |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | HH                       | Hour, in 24-hour format.                                                                                                         | 22                       |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | hh                       | Hour, in 12-hour format.                                                                                                         | 11                       |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | MM                       | Number of the month, ranging from 01 to 12 (decimal).                                                                            | 08                       |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | mm                       | Number of the minute, ranging from 00 to 59 (decimal).                                                                           | 59                       |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | a                        | AM or PM                                                                                                                         | AM, PM                   |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | hh:mm:ss a               | Time in the 12-hour format.                                                                                                      | 11:59:59 AM              |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | HH:mm                    | Hour and minute format.                                                                                                          | 23:59                    |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | ss                       | Number of the second, ranging from 00 to 59 (decimal).                                                                           | 59                       |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | yy                       | Year without century, ranging from 00 to 99 (decimal).                                                                           | 04, 98                   |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | yyyy                     | Year (decimal).                                                                                                                  | 2004, 1998               |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | d                        | Number of the day in a month, ranging from 1 to 31 (decimal).                                                                    | 7, 31                    |
   |                          |                                                                                                                                  |                          |
   |                          | If the value is a single-digit number, add a space before the value.                                                             |                          |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | DDD                      | Number of the day in a year, ranging from 001 to 366 (decimal).                                                                  | 365                      |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | u                        | Number of the day in a week, ranging from 1 to 7 (decimal). The value 1 indicates Monday.                                        | 2                        |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | w                        | Number of the week in a year. Sunday is the start of a week. The value ranges from 00 to 53.                                     | 23                       |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | w                        | Number of the week in a year. Monday is the start of a week. The value ranges from 01 to 53.                                     | 24                       |
   |                          |                                                                                                                                  |                          |
   |                          | A week is the first week of a month if it has at least four days in that month; otherwise, the following week is the first week. |                          |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | U                        | Number of the day in a week, ranging from 0 to 6 (decimal). The value 0 indicates Sunday.                                        | 5                        |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | EEE MMM dd HH:mm:ss yyyy | Standard date and time.                                                                                                          | Tue Nov 20 14:12:58 2020 |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | EEE MMM dd yyyy          | Standard date without time.                                                                                                      | Tue Nov 20 2020          |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | HH:mm:ss                 | Standard time without date.                                                                                                      | 11:59:59                 |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+
   | %s                       | UNIX Timestamp.                                                                                                                  | 147618725                |
   +--------------------------+----------------------------------------------------------------------------------------------------------------------------------+--------------------------+

Examples
--------

:ref:`Table 3 <lts_0826__en-us_topic_0000001532867577_table1645795510611>` lists common time standards, examples, and expressions.

.. _lts_0826__en-us_topic_0000001532867577_table1645795510611:

.. table:: **Table 3** Examples

   +-------------------------------------+-----------------------------+---------------+
   | Example                             | Time Expression             | Time Standard |
   +=====================================+=============================+===============+
   | 2022-07-14T19:57:36+08:00           | yyyy-MM-dd'T'HH:mm:ssXXX    | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 1548752136                          | %s                          | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 27/Jan/2022:15:56:44                | dd/MMM/yyyy:HH:mm:ss        | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 2022-08-15 17:53:23+08              | yyyy-MM-dd HH:mm:ssX        | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 2022-08-05T08:24:15.536+0000        | yyyy-MM-dd'T'HH:mm:ss.SSSZ  | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 2022-08-20T10:04:03.204000Z         | yyyy-MM-dd'T'HH:mm:ss.SSSZ  | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 2022-08-22T06:52:08Z                | yyyy-MM-dd'T'HH:mm:ssZ      | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | 2022-07-24T10:06:41.000             | yyyy-MM-dd'T'HH:mm:ss.SSS   | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | [2022-12-11 15:05:07.012]           | [yyyy-MM-dd HH:mm:ss.SSS]   | Custom        |
   +-------------------------------------+-----------------------------+---------------+
   | Monday, 02-Jan-06 15:04:05 MST      | EEEE, dd-MMM-yy HH:mm:ss Z  | RFC850        |
   +-------------------------------------+-----------------------------+---------------+
   | Mon, 02 Jan 2006 15:04:05 MST       | EEE, dd MMM-yyyy HH:mm:ss Z | RFC1123       |
   +-------------------------------------+-----------------------------+---------------+
   | 02 Jan 06 15:04 MST                 | dd MMM yy HH:mm Z           | RFC822        |
   +-------------------------------------+-----------------------------+---------------+
   | 02 Jan 06 15:04 -0700               | dd MMM yy HH:mm Z           | RFC822Z       |
   +-------------------------------------+-----------------------------+---------------+
   | 2023-01-02T15:04:05.999999999Z07:00 | yyyy-MM-dd'T'HH:mm:ss Z     | RFC3339Nano   |
   +-------------------------------------+-----------------------------+---------------+
   | 2023-01-02T15:04:05Z07:00           | yyyy-MM-dd'T'HH:mm:ss Z     | RFC3339       |
   +-------------------------------------+-----------------------------+---------------+
   | 2022-12-11 15:05:07                 | yyyy-MM-dd HH:mm:ss         | Custom        |
   +-------------------------------------+-----------------------------+---------------+

.. |image1| image:: /_static/images/en-us_image_0000001991274437.png
